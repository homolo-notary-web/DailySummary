### 项目名称：一网通办WePy小程序

#### 框架：`Wepy`小程序框架 + `Vant`移动端组件库

#### 问题1：

- 项目测试中发现若干页面样式在一些华为手机上出现了适配问题，页面底部内容被虚拟键盘遮挡，无法显示完全。

#### 产生原因：
- 因为虚拟键盘位于界面的可视区域，并且占据了页面下方一定的高度。

#### 解决方法：

1. app.wpy 页面获取设备品牌，设置为全局变量。获取系统信息API参考[链接](https://developers.weixin.qq.com/miniprogram/dev/api/wx.getSystemInfo.html?search-key=getSystemInfo)

   ```javascript
   // 获取手机系统信息
   wx.getSystemInfo({ 
       success(res) {
           const brand = res.brand;
           if (brand.search('HUAWEI') !== -1 || brand.search('HONOR') !== -1) {
               that.globalData.isHuaWei = true;
               that.$apply();
           }
       }
   })
   ```

2. 在需要兼容的页面，获取全局变量，进行样式重置。

   ```javascript
   onLoad () {
       this.isHuaWei = this.$parent.globalData.isHuaWei;
   }
   ...
   ```

